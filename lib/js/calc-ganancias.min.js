!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).calcGanancias=f()}}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports={topesEscalas:[64532.64,129065.29,192567.93,258130.58,387195.86,516261.14,774391.71,1032522.3,99999999],porcentajesEscales:[.05,.09,.12,.15,.19,.23,.27,.31,.35],minimoNoImponible:167668.4,adicional4taCategoria:804856.34,coyuje:156320.63,hijo:78833.08,topeAportes:208357.3,topeJubilado:1484752.88,topeAlquiler:157678,topeHipotecario:2e4,porcentajeAlquiler:.4,porcentajePatagonico:1.22,aportesJubilados:.06,aportesNoJubilados:.17}},{}],2:[function(require,module,exports){"use strict";module.exports=require("./lib/calc_ganancias")},{"./lib/calc_ganancias":3}],3:[function(require,module,exports){"use strict";var utils=require("./utils"),defaults=require("lodash.defaults"),flowRight=require("lodash.flowright"),forEach=require("lodash.foreach"),defaultValues=require("../data/values-2021.json"),defaultOptions={sueldoBruto:{default:0,min:0,max:null},alquiler:{default:0,min:0,max:null},creditoHipotecario:{default:0,min:0,max:null},cantHijos:{default:0,min:0,max:8},isConyuje:{default:!1},isJubilado:{default:!1},isPatagonico:{default:!1}},clone=flowRight(JSON.parse,JSON.stringify);function CalcGanancias(values){values=defaults(clone(values||{}),defaultValues),this.values=values}function getAnnualAmount(value){return 12*value}CalcGanancias.prototype.calculate=function(options){options=defaults(clone(options||{}),defaultOptions),forEach(options,function(n,key){var differentType=typeof n!=typeof defaultOptions[key].default,hasRange=void 0!==defaultOptions[key].min;(differentType||hasRange&&!utils.isInRange(n,defaultOptions[key].min,defaultOptions[key].max))&&(n=defaultOptions[key].default,options[key]=defaultOptions[key].default)});var result={},deduccionAlquiler=getAnnualAmount(options.alquiler)*this.values.porcentajeAlquiler;deduccionAlquiler>this.values.topeAlquiler&&(deduccionAlquiler=this.values.topeAlquiler);var deduccionHipotecario=getAnnualAmount(options.creditoHipotecario);deduccionHipotecario>this.values.topeHipotecario&&(deduccionHipotecario=this.values.topeHipotecario);var aportes=function(values,sueldoMensual,isJubilado){var aportes=(isJubilado?values.aportesJubilados:values.aportesNoJubilados)*sueldoMensual;aportes>values.topeAportes&&(aportes=values.topeAportes);return aportes}(this.values,options.sueldoBruto,options.isJubilado),sueldoNeto=options.sueldoBruto-aportes,extras=sueldoNeto,ingresoAnual=getAnnualAmount(sueldoNeto)+extras,mni=this.values.minimoNoImponible+this.values.adicional4taCategoria;options.isPatagonico&&(mni*=this.values.porcentajePatagonico);var mniTotal=mni+this.values.coyuje*options.isConyuje+this.values.hijo*options.cantHijos+deduccionAlquiler+deduccionHipotecario;options.isJubilado&&(mniTotal=this.values.topeJubilado+deduccionAlquiler+deduccionHipotecario);var montoImponibleAplicable=0;mniTotal<ingresoAnual&&(montoImponibleAplicable=ingresoAnual-mniTotal);var tax=function(values,amount){var i=0,result={},value=0;for(;amount>values.topesEscalas[i];){var diff=0==i?values.topesEscalas[i]:values.topesEscalas[i]-values.topesEscalas[i-1];value+=diff*values.porcentajesEscales[i],i++}return diff=0==i?amount:amount-values.topesEscalas[i-1],value+=diff*values.porcentajesEscales[i],result.value=value,result.escala=i,result}(this.values,montoImponibleAplicable);result.anualTax=tax.value.toFixed(2),result.monthlyTax=(result.anualTax/13).toFixed(2);var taxRateNumber=0==result.monthlyTax?0:result.monthlyTax/options.sueldoBruto*100;return result.taxRate=taxRateNumber.toFixed(2)+"%",result.marginalTaxRate=0==taxRateNumber?0:100*this.values.porcentajesEscales[tax.escala],result.marginalTaxRate=result.marginalTaxRate.toFixed(2)+"%",result.netBaseSalary=""+Math.round(sueldoNeto-result.monthlyTax).toFixed(2),result},module.exports=CalcGanancias},{"../data/values-2021.json":1,"./utils":4,"lodash.defaults":5,"lodash.flowright":6,"lodash.foreach":7}],4:[function(require,module,exports){"use strict";exports.isInRange=function(value,min,max){var result=!0;return min&&(result=min<=value),result&&max&&(result=value<=max),result}},{}],5:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeMax=Math.max;function arrayLikeKeys(value,inherited){var result=isArray(value)||function(value){return function(value){return function(value){return!!value&&"object"==typeof value}(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignInDefaults(objValue,srcValue,key,object){return void 0===objValue||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function baseKeysIn(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=function(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&-1<value&&value%1==0&&value<length}function eq(value,other){return value===other||value!=value&&other!=other}var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!function(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}var assigner,assignInWith=(assigner=function(object,source,srcIndex,customizer){!function(source,props,object,customizer){object=object||{};for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}}(source,function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}(source),object,customizer)},baseRest(function(object,sources){var index=-1,length=sources.length,customizer=1<length?sources[length-1]:void 0,guard=2<length?sources[2]:void 0;for(customizer=3<assigner.length&&"function"==typeof customizer?(length--,customizer):void 0,guard&&function(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})),defaults=baseRest(function(args){return args.push(void 0,assignInDefaults),apply(assignInWith,void 0,args)});module.exports=defaults},{}],6:[function(require,module,exports){(function(global){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,nativeMax=Math.max;function isFlattenable(value){return isArray(value)||function(value){return function(value){return function(value){return!!value&&"object"==typeof value}(value)&&function(value){return null!=value&&function(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!function(value){var tag=function(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)}(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}var isArray=Array.isArray;var func,start,fromRight,flowRight=(fromRight=!0,func=function(funcs){var length=(funcs=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate=predicate||isFlattenable,result=result||[];++index<length;){var value=array[index];0<depth&&predicate(value)?1<depth?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}(funcs,1)).length,index=length;for(fromRight&&funcs.reverse();index--;)if("function"!=typeof funcs[index])throw new TypeError("Expected a function");return function(){for(var index=0,result=length?funcs[index].apply(this,arguments):arguments[0];++index<length;)result=funcs[index].call(this,result);return result}},start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}(func,this,otherArgs)});module.exports=flowRight}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/;function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););return array}var func,transform,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=(func=Object.keys,transform=Object,function(arg){return func(transform(arg))});function arrayLikeKeys(value,inherited){var result=isArray(value)||function(value){return function(value){return function(value){return!!value&&"object"==typeof value}(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}var eachFunc,fromRight,baseEach=(eachFunc=function(object,iteratee){return object&&baseFor(object,iteratee,keys)},function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}),baseFor=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}();function baseKeys(object){if(!function(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&-1<value&&value%1==0&&value<length}var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!function(value){var tag=function(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function identity(value){return value}module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,"function"==typeof iteratee?iteratee:identity)}},{}]},{},[2])(2)});
